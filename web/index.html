<!DOCTYPE html>
<html>
  <head> </head>
  <body>
    <form onsubmit="shortLink(event)">
      <input id="url" />
    </form>
    <span id="short"></span>
  </body>
  <script>
    function shortLink(event) {
      event.preventDefault()

      fetch("https://url-shortner-49efa.web.app/short", {
        method: "POST",
        body: JSON.stringify({
          url: document.getElementById("url").value,
        }),
        mode: "cors",
        headers: {
          "Content-Type": "application/json;charset=UTF-8",
        },
      })
        .then((response) => {
          response.json().then((data) => {
            document.getElementById("short").innerText = data.short
          })
        })
        .catch((error) => {
          document.getElementById("short").innerText = error.message
        })
    }
  </script>
</html>
